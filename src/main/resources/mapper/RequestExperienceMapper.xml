<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.kok.mapper.RequestExperienceMapper">
<!--    지원서 넣기-->
    <insert id="insertRequest">
        insert into tbl_request_experience(experience_notice_id, member_id, member_alarm_setting_id)
        values(#{experienceNoticeId}, #{memberId}, #{memberAlarmSettingId})
    </insert>
<!--  지원 목록 조회  -->
    <select id="selectRequestById">
        select r.member_id,
               c.company_name,
               e.evaluation_avg_score,
               n.experience_notice_title,
               r.request_experience_status
        from tbl_company c
                 join tbl_experience_notice n
                      on c.user_id = n.company_id
                 join tbl_request_experience r
                      on n.id = r.experience_notice_id
                 join tbl_evaluation e
                      on r.id = e.request_experience_id
        where r.member_id = #{id};
    </select>
</mapper>